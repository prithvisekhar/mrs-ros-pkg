<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from W2M.xacro                      | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="mrs" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Constants for robot -->
  <!-- Import all Gazebo-customization elements, including Gazebo colors -->
  <material name="Blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="Grey">
    <color rgba="0.7 0.7 0.7 1.0"/>
  </material>
  <material name="Grey2">
    <color rgba="0.9 0.9 0.9 1.0"/>
  </material>
  <material name="Red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="White">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <material name="Black">
    <color rgba="0.1 0.1 0.1 1.0"/>
  </material>
  <material name="LightGrey">
    <color rgba="0.6 0.6 0.6 1.0"/>
  </material>
  <material name="Orange">
    <color rgba="1.0 0.4 0.0 1.0"/>
  </material>
  <material name="DarkGrey">
    <color rgba="0.3 0.3 0.3 1.0"/>
  </material>
  <material name="Green">
    <color rgba="0.0 1.0 0.0 1.0"/>
  </material>
  <material name="Caster">
    <texture filename="package://pr2_description/materials/textures/pr2_caster_texture.png"/>
  </material>
  <material name="Wheel_l">
    <texture filename="package://pr2_description/materials/textures/pr2_wheel_left.png"/>
  </material>
  <material name="Wheel_r">
    <texture filename="package://pr2_description/materials/textures/pr2_wheel_right.png"/>
  </material>
  <material name="RollLinks">
    <texture filename="package://pr2_description/materials/textures/pr2_wheel_left.png"/>
  </material>
  <material name="blue">
    <color rgba="0.0 0.0 0.8 1.0"/>
  </material>
  <material name="green">
    <color rgba="0.0 0.8 0.0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.2 0.2 0.2 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.8 0.0 0.0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <!-- Used for fixing robot to Gazebo 'base_link' -->
  <link name="world">
    <inertial>
      <mass value="0.1"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
      <material name="Red"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="fixed" type="fixed">
    <axis xyz="1 0 0 "/>
    <origin rpy="0 -1.57079632679 0" xyz="0 0 0.05"/>
    <!-- <origin xyz="0 0 0.1" rpy="0 0 0" /> -->
    <parent link="world"/>
    <child link="base_footprint"/>
  </joint>
  <!-- Fictitious Base Link is a fictitious link(frame) that is on the ground below 
    base_link origin, Dummy link-->
  <link name="base_footprint">
    <mass value="1.0"/>
    <visual>
      <geometry>
        <box size="0.07 0.07 0.14"/>
      </geometry>
      <material name="Blue">
        </material>
    </visual>
    <collision>
      <geometry>
        <box size="0.05 0.05 0.04"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.15"/>
      <!--
            Inertia of a cuboid - ml2/6
-->
      <inertia ixx="0.0008166" ixy="0.0" ixz="0.0" iyy="0.0008166" iyz="0.0" izz="0.0008166"/>
    </inertial>
  </link>
  <gazebo reference="base_footprint">
    <material>Gazebo/Blue</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <link name="1_W1_j1_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J1.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <collision>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J1.dae"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.024 -0.021 0"/>
      <mass value="0.137"/>
      <inertia ixx="1.043e-4" ixy="4.237e-5" ixz="8.843e-7" iyy="1.259e-5" iyz="-2.329e-8" izz="1.759e-4"/>
    </inertial>
  </link>
  <link name="1_W1_j2_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J2.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="1.068e-4 0 4.22e-4"/>
      <mass value="0.01"/>
      <inertia ixx="1.34e-6" ixy="2.119e-11" ixz="7.365e-11" iyy="1.326e-6" iyz="2.329e-12" izz="2.006e-6"/>
    </inertial>
  </link>
  <link name="1_W1_j3_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J3.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="-5.121e-4 0.014 -0.012"/>
      <mass value="0.027"/>
      <inertia ixx="9.335e-6" ixy="1.198e-8" ixz="5.264e-9" iyy="5.505e-6" iyz="-2.699e-6" izz="6.39e-6"/>
    </inertial>
  </link>
  <link name="1_W1_w1_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/WR1.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <collision>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/WR1.dae"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.003 0 0"/>
      <mass value="0.089"/>
      <inertia ixx="1.036e-4" ixy="0" ixz="0" iyy="5.359e-5" iyz="0" izz="5.359e-5"/>
    </inertial>
  </link>
  <joint name="1_W1_j3" type="fixed">
    <child link="1_W1_w1_link"/>
    <parent link="1_W1_j3_link"/>
    <axis xyz="1 0 0"/>
    <origin rpy="0 0 -1.57079632679" xyz="0 0.05 0"/>
  </joint>
  <joint name="1_W1_j2" type="fixed">
    <child link="1_W1_j3_link"/>
    <parent link="1_W1_j1_link"/>
    <axis xyz="0 0 1 "/>
    <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
    <!--
    <limit lower="${-pi/2}" upper="${pi/2}" effort="${max_effort}"
      velocity="${max_velocity}" />
    <dynamics damping="${j2_damping}" />
-->
  </joint>
  <joint name="1_W1_j2_fixed" type="fixed">
    <child link="1_W1_j1_link"/>
    <parent link="1_W1_j2_link"/>
    <axis xyz="1 0 0 "/>
    <origin rpy="1.57079632679 0 1.57079632679" xyz="0 0 0.058"/>
  </joint>
  <joint name="1_W1_j1" type="fixed">
    <child link="1_W1_j2_link"/>
    <parent link="W1_PCmodule"/>
    <!--
    <axis xyz="1 0 0 " />
-->
    <origin rpy="0 1.57079632679 0" xyz="0.035 0 0"/>
  </joint>
  <gazebo reference="1_W1_j1_link">
    <material>Gazebo/Grey</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="1_W1_j2_link">
    <material>Gazebo/Black</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="1_W1_j3_link">
    <material>Gazebo/FlatBlack</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="1_W1_w1_link">
    <material>Gazebo/FlatBlack</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <link name="W1_PCmodule">
    <visual>
      <geometry>
        <box size="0.07 0.05 0.05"/>
      </geometry>
      <material name="Orange">
                </material>
    </visual>
    <inertial>
      <mass value="0.15"/>
      <!--
            Inertia of a cuboid - ml2/6
-->
      <inertia ixx="0.0008166" ixy="0.0" ixz="0.0" iyy="0.0008166" iyz="0.0" izz="0.0008166"/>
    </inertial>
  </link>
  <joint name="W1_mbase_jointW1" type="fixed">
    <origin rpy="0 1.57079632679 0" xyz="0 0 -0.035"/>
    <child link="W1_PCmodule"/>
    <parent link="base_footprint"/>
  </joint>
  <gazebo reference="W1_PCmodule">
    <material>Gazebo/Orange</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <link name="W2_PCmodule">
    <visual>
      <geometry>
        <box size="0.07 0.05 0.05"/>
      </geometry>
      <material name="Orange">
                </material>
    </visual>
    <inertial>
      <mass value="0.15"/>
      <!--
            Inertia of a cuboid - ml2/6
-->
      <inertia ixx="0.0008166" ixy="0.0" ixz="0.0" iyy="0.0008166" iyz="0.0" izz="0.0008166"/>
    </inertial>
  </link>
  <joint name="W2_mbase_jointW1" type="fixed">
    <origin rpy="0 -1.57079632679 0" xyz="0 0 0.035"/>
    <child link="W2_PCmodule"/>
    <parent link="base_footprint"/>
  </joint>
  <gazebo reference="W2_PCmodule">
    <material>Gazebo/Orange</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <link name="2_W1_j1_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J1.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <collision>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J1.dae"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.024 -0.021 0"/>
      <mass value="0.137"/>
      <inertia ixx="1.043e-4" ixy="4.237e-5" ixz="8.843e-7" iyy="1.259e-5" iyz="-2.329e-8" izz="1.759e-4"/>
    </inertial>
  </link>
  <link name="2_W1_j2_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J2.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="1.068e-4 0 4.22e-4"/>
      <mass value="0.01"/>
      <inertia ixx="1.34e-6" ixy="2.119e-11" ixz="7.365e-11" iyy="1.326e-6" iyz="2.329e-12" izz="2.006e-6"/>
    </inertial>
  </link>
  <link name="2_W1_j3_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/J3.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="-5.121e-4 0.014 -0.012"/>
      <mass value="0.027"/>
      <inertia ixx="9.335e-6" ixy="1.198e-8" ixz="5.264e-9" iyy="5.505e-6" iyz="-2.699e-6" izz="6.39e-6"/>
    </inertial>
  </link>
  <link name="2_W1_w1_link">
    <visual>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/WR1.dae"/>
      </geometry>
      <material name="Blue"/>
    </visual>
    <collision>
      <!--xacro:insert_block name="ori" /-->
      <geometry>
        <mesh filename="package://mrs_description/meshes/WR1.dae"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.003 0 0"/>
      <mass value="0.089"/>
      <inertia ixx="1.036e-4" ixy="0" ixz="0" iyy="5.359e-5" iyz="0" izz="5.359e-5"/>
    </inertial>
  </link>
  <joint name="2_W1_j3" type="fixed">
    <child link="2_W1_w1_link"/>
    <parent link="2_W1_j3_link"/>
    <axis xyz="1 0 0"/>
    <origin rpy="0 0 -1.57079632679" xyz="0 0.05 0"/>
  </joint>
  <joint name="2_W1_j2" type="fixed">
    <child link="2_W1_j3_link"/>
    <parent link="2_W1_j1_link"/>
    <axis xyz="0 0 1 "/>
    <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
    <!--
    <limit lower="${-pi/2}" upper="${pi/2}" effort="${max_effort}"
      velocity="${max_velocity}" />
    <dynamics damping="${j2_damping}" />
-->
  </joint>
  <joint name="2_W1_j2_fixed" type="fixed">
    <child link="2_W1_j1_link"/>
    <parent link="2_W1_j2_link"/>
    <axis xyz="1 0 0 "/>
    <origin rpy="1.57079632679 0 1.57079632679" xyz="0 0 0.058"/>
  </joint>
  <joint name="2_W1_j1" type="fixed">
    <child link="2_W1_j2_link"/>
    <parent link="W2_PCmodule"/>
    <!--
    <axis xyz="1 0 0 " />
-->
    <origin rpy="0 1.57079632679 0" xyz="0.035 0 0"/>
  </joint>
  <gazebo reference="2_W1_j1_link">
    <material>Gazebo/Grey</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="2_W1_j2_link">
    <material>Gazebo/Black</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="2_W1_j3_link">
    <material>Gazebo/FlatBlack</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="2_W1_w1_link">
    <material>Gazebo/FlatBlack</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <!--
  <xacro:Ball_bearing mass="0.1" instance="1" dia="0.01" x="-0.045" y="0.0" z="-0.2" parent="base_footprint"/>
  <xacro:Ball_bearing mass="0.1" instance="2" dia="0.01" x="-0.045" y="0.0" z="0.2" parent="base_footprint"/>
-->
  <joint name="bearing_joint_1" type="fixed">
    <origin rpy="0 0 0" xyz="-0.055 0 -0.07"/>
    <parent link="base_footprint"/>
    <child link="bearing_link1_1"/>
  </joint>
  <link name="bearing_link1_1">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
  </link>
  <link name="bearing_link2_1">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
      <contact_coefficients>
        <mu>0.0</mu>
      </contact_coefficients>
    </collision>
  </link>
  <joint name="bearing_joint2_1" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bearing_link1_1"/>
    <child link="bearing_link2_1"/>
  </joint>
  <gazebo reference="bearing_link1_1">
    <material>Gazebo/Black</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="bearing_link2_1">
    <material>Gazebo/Black</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <joint name="bearing_joint_2" type="fixed">
    <origin rpy="0 0 0" xyz="-0.055 0 0.07"/>
    <parent link="base_footprint"/>
    <child link="bearing_link1_2"/>
  </joint>
  <link name="bearing_link1_2">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
  </link>
  <link name="bearing_link2_2">
    <inertial>
      <mass value="0.1"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="1e-06" ixy="0" ixz="0" iyy="1e-06" iyz="0" izz="1e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
      <material name="Orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <sphere radius="0.005"/>
      </geometry>
      <contact_coefficients>
        <mu>0.0</mu>
      </contact_coefficients>
    </collision>
  </link>
  <joint name="bearing_joint2_2" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bearing_link1_2"/>
    <child link="bearing_link2_2"/>
  </joint>
  <gazebo reference="bearing_link1_2">
    <material>Gazebo/Black</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo reference="bearing_link2_2">
    <material>Gazebo/Black</material>
    <selfCollide>false</selfCollide>
  </gazebo>
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_controller_manager">
      <robotNamespace>/mrs</robotNamespace>
    </plugin>
    <plugin filename="libgazebo_ros_planar_move.so" name="object_controller">
      <commandTopic>/mrs/cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <odometryRate>20.0</odometryRate>
      <robotBaseFrame>base_footprint</robotBaseFrame>
    </plugin>
  </gazebo>
</robot>
